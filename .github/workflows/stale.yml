name: Stale Issues and PRs

on:
  schedule:
    - cron: '0 0 * * *' # Run daily at midnight UTC

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/stale@v9
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          
          # Issues
          stale-issue-message: |
            üëã This issue has been automatically marked as stale because it has not had recent activity.
            
            It will be closed in 14 days if no further activity occurs.
            
            If this is still relevant, please:
            - Add a comment to keep it open
            - Remove the `stale` label
            
            Thank you for your contributions to Archon V2 Beta! üöÄ
          close-issue-message: |
            This issue was automatically closed due to inactivity.
            
            Feel free to reopen if this is still relevant or create a new issue with updated information.
          days-before-issue-stale: 60
          days-before-issue-close: 14
          stale-issue-label: 'stale'
          exempt-issue-labels: 'pinned,security,roadmap,help-wanted,good-first-issue'
          
          # Pull Requests
          stale-pr-message: |
            üëã This PR has been automatically marked as stale because it has not had recent activity.
            
            It will be closed in 7 days if no further activity occurs.
            
            To keep this PR active:
            - Push new commits
            - Respond to review comments
            - Remove the `stale` label
            
            Thank you for your contribution! üôè
          close-pr-message: |
            This PR was automatically closed due to inactivity.
            
            Feel free to reopen if you want to continue working on it.
          days-before-pr-stale: 30
          days-before-pr-close: 7
          stale-pr-label: 'stale'
          exempt-pr-labels: 'pinned,security,work-in-progress'
          
          # Only process issues/PRs with at least one label
          only-labels: ''
          
          # Operations per run (to avoid rate limits)
          operations-per-run: 30
          
          # Remove stale label when new activity occurs
          remove-stale-when-updated: true
          
          # Enable debug logging
          debug-only: false
